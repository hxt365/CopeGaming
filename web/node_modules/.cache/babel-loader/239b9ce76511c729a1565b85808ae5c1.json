{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useRef, useState, useEffect, forwardRef } from 'react';\nimport SwiperCore from 'swiper';\nimport { getParams } from './get-params.js';\nimport { mountSwiper } from './mount-swiper.js';\nimport { needsScrollbar, needsNavigation, needsPagination, uniqueClasses, extend } from './utils.js';\nimport { renderLoop, calcLoopedSlides } from './loop.js';\nimport { getChangedParams } from './get-changed-params.js';\nimport { getChildren } from './get-children.js';\nimport { updateSwiper } from './update-swiper.js';\nimport { renderVirtual, updateOnVirtualData } from './virtual.js';\nimport { useIsomorphicLayoutEffect } from './use-isomorphic-layout-effect.js';\nimport { SwiperContext } from './context.js';\nconst Swiper = /*#__PURE__*/forwardRef(function (_temp, externalElRef) {\n  let {\n    className,\n    tag: Tag = 'div',\n    wrapperTag: WrapperTag = 'div',\n    children,\n    onSwiper,\n    ...rest\n  } = _temp === void 0 ? {} : _temp;\n  let eventsAssigned = false;\n  const [containerClasses, setContainerClasses] = useState('swiper');\n  const [virtualData, setVirtualData] = useState(null);\n  const [breakpointChanged, setBreakpointChanged] = useState(false);\n  const initializedRef = useRef(false);\n  const swiperElRef = useRef(null);\n  const swiperRef = useRef(null);\n  const oldPassedParamsRef = useRef(null);\n  const oldSlides = useRef(null);\n  const nextElRef = useRef(null);\n  const prevElRef = useRef(null);\n  const paginationElRef = useRef(null);\n  const scrollbarElRef = useRef(null);\n  const {\n    params: swiperParams,\n    passedParams,\n    rest: restProps,\n    events\n  } = getParams(rest);\n  const {\n    slides,\n    slots\n  } = getChildren(children);\n\n  const onBeforeBreakpoint = () => {\n    setBreakpointChanged(!breakpointChanged);\n  };\n\n  Object.assign(swiperParams.on, {\n    _containerClasses(swiper, classes) {\n      setContainerClasses(classes);\n    }\n\n  });\n\n  const initSwiper = () => {\n    // init swiper\n    Object.assign(swiperParams.on, events);\n    eventsAssigned = true;\n    swiperRef.current = new SwiperCore(swiperParams);\n\n    swiperRef.current.loopCreate = () => {};\n\n    swiperRef.current.loopDestroy = () => {};\n\n    if (swiperParams.loop) {\n      swiperRef.current.loopedSlides = calcLoopedSlides(slides, swiperParams);\n    }\n\n    if (swiperRef.current.virtual && swiperRef.current.params.virtual.enabled) {\n      swiperRef.current.virtual.slides = slides;\n      const extendWith = {\n        cache: false,\n        slides,\n        renderExternal: setVirtualData,\n        renderExternalUpdate: false\n      };\n      extend(swiperRef.current.params.virtual, extendWith);\n      extend(swiperRef.current.originalParams.virtual, extendWith);\n    }\n  };\n\n  if (!swiperElRef.current) {\n    initSwiper();\n  } // Listen for breakpoints change\n\n\n  if (swiperRef.current) {\n    swiperRef.current.on('_beforeBreakpoint', onBeforeBreakpoint);\n  }\n\n  const attachEvents = () => {\n    if (eventsAssigned || !events || !swiperRef.current) return;\n    Object.keys(events).forEach(eventName => {\n      swiperRef.current.on(eventName, events[eventName]);\n    });\n  };\n\n  const detachEvents = () => {\n    if (!events || !swiperRef.current) return;\n    Object.keys(events).forEach(eventName => {\n      swiperRef.current.off(eventName, events[eventName]);\n    });\n  };\n\n  useEffect(() => {\n    return () => {\n      if (swiperRef.current) swiperRef.current.off('_beforeBreakpoint', onBeforeBreakpoint);\n    };\n  }); // set initialized flag\n\n  useEffect(() => {\n    if (!initializedRef.current && swiperRef.current) {\n      swiperRef.current.emitSlidesClasses();\n      initializedRef.current = true;\n    }\n  }); // mount swiper\n\n  useIsomorphicLayoutEffect(() => {\n    if (externalElRef) {\n      externalElRef.current = swiperElRef.current;\n    }\n\n    if (!swiperElRef.current) return;\n\n    if (swiperRef.current.destroyed) {\n      initSwiper();\n    }\n\n    mountSwiper({\n      el: swiperElRef.current,\n      nextEl: nextElRef.current,\n      prevEl: prevElRef.current,\n      paginationEl: paginationElRef.current,\n      scrollbarEl: scrollbarElRef.current,\n      swiper: swiperRef.current\n    }, swiperParams);\n    if (onSwiper) onSwiper(swiperRef.current); // eslint-disable-next-line\n\n    return () => {\n      if (swiperRef.current && !swiperRef.current.destroyed) {\n        swiperRef.current.destroy(true, false);\n      }\n    };\n  }, []); // watch for params change\n\n  useIsomorphicLayoutEffect(() => {\n    attachEvents();\n    const changedParams = getChangedParams(passedParams, oldPassedParamsRef.current, slides, oldSlides.current);\n    oldPassedParamsRef.current = passedParams;\n    oldSlides.current = slides;\n\n    if (changedParams.length && swiperRef.current && !swiperRef.current.destroyed) {\n      updateSwiper({\n        swiper: swiperRef.current,\n        slides,\n        passedParams,\n        changedParams,\n        nextEl: nextElRef.current,\n        prevEl: prevElRef.current,\n        scrollbarEl: scrollbarElRef.current,\n        paginationEl: paginationElRef.current\n      });\n    }\n\n    return () => {\n      detachEvents();\n    };\n  }); // update on virtual update\n\n  useIsomorphicLayoutEffect(() => {\n    updateOnVirtualData(swiperRef.current);\n  }, [virtualData]); // bypass swiper instance to slides\n\n  function renderSlides() {\n    if (swiperParams.virtual) {\n      return renderVirtual(swiperRef.current, slides, virtualData);\n    }\n\n    if (!swiperParams.loop || swiperRef.current && swiperRef.current.destroyed) {\n      return slides.map(child => {\n        return /*#__PURE__*/React.cloneElement(child, {\n          swiper: swiperRef.current\n        });\n      });\n    }\n\n    return renderLoop(swiperRef.current, slides, swiperParams);\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    ref: swiperElRef,\n    className: uniqueClasses(`${containerClasses}${className ? ` ${className}` : ''}`)\n  }, restProps), /*#__PURE__*/React.createElement(SwiperContext.Provider, {\n    value: swiperRef.current\n  }, slots['container-start'], needsNavigation(swiperParams) && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: prevElRef,\n    className: \"swiper-button-prev\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: nextElRef,\n    className: \"swiper-button-next\"\n  })), needsScrollbar(swiperParams) && /*#__PURE__*/React.createElement(\"div\", {\n    ref: scrollbarElRef,\n    className: \"swiper-scrollbar\"\n  }), needsPagination(swiperParams) && /*#__PURE__*/React.createElement(\"div\", {\n    ref: paginationElRef,\n    className: \"swiper-pagination\"\n  }), /*#__PURE__*/React.createElement(WrapperTag, {\n    className: \"swiper-wrapper\"\n  }, slots['wrapper-start'], renderSlides(), slots['wrapper-end']), slots['container-end']));\n});\nSwiper.displayName = 'Swiper';\nexport { Swiper };","map":{"version":3,"sources":["/Users/hxt365/GolandProjects/cloud-gaming/web/node_modules/swiper/react/swiper.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","useRef","useState","useEffect","forwardRef","SwiperCore","getParams","mountSwiper","needsScrollbar","needsNavigation","needsPagination","uniqueClasses","extend","renderLoop","calcLoopedSlides","getChangedParams","getChildren","updateSwiper","renderVirtual","updateOnVirtualData","useIsomorphicLayoutEffect","SwiperContext","Swiper","_temp","externalElRef","className","tag","Tag","wrapperTag","WrapperTag","children","onSwiper","rest","eventsAssigned","containerClasses","setContainerClasses","virtualData","setVirtualData","breakpointChanged","setBreakpointChanged","initializedRef","swiperElRef","swiperRef","oldPassedParamsRef","oldSlides","nextElRef","prevElRef","paginationElRef","scrollbarElRef","params","swiperParams","passedParams","restProps","events","slides","slots","onBeforeBreakpoint","on","_containerClasses","swiper","classes","initSwiper","current","loopCreate","loopDestroy","loop","loopedSlides","virtual","enabled","extendWith","cache","renderExternal","renderExternalUpdate","originalParams","attachEvents","keys","forEach","eventName","detachEvents","off","emitSlidesClasses","destroyed","el","nextEl","prevEl","paginationEl","scrollbarEl","destroy","changedParams","renderSlides","map","child","cloneElement","createElement","ref","Provider","value","Fragment","displayName"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useRef, useState, useEffect, forwardRef } from 'react';\nimport SwiperCore from 'swiper';\nimport { getParams } from './get-params.js';\nimport { mountSwiper } from './mount-swiper.js';\nimport { needsScrollbar, needsNavigation, needsPagination, uniqueClasses, extend } from './utils.js';\nimport { renderLoop, calcLoopedSlides } from './loop.js';\nimport { getChangedParams } from './get-changed-params.js';\nimport { getChildren } from './get-children.js';\nimport { updateSwiper } from './update-swiper.js';\nimport { renderVirtual, updateOnVirtualData } from './virtual.js';\nimport { useIsomorphicLayoutEffect } from './use-isomorphic-layout-effect.js';\nimport { SwiperContext } from './context.js';\nconst Swiper = /*#__PURE__*/forwardRef(function (_temp, externalElRef) {\n  let {\n    className,\n    tag: Tag = 'div',\n    wrapperTag: WrapperTag = 'div',\n    children,\n    onSwiper,\n    ...rest\n  } = _temp === void 0 ? {} : _temp;\n  let eventsAssigned = false;\n  const [containerClasses, setContainerClasses] = useState('swiper');\n  const [virtualData, setVirtualData] = useState(null);\n  const [breakpointChanged, setBreakpointChanged] = useState(false);\n  const initializedRef = useRef(false);\n  const swiperElRef = useRef(null);\n  const swiperRef = useRef(null);\n  const oldPassedParamsRef = useRef(null);\n  const oldSlides = useRef(null);\n  const nextElRef = useRef(null);\n  const prevElRef = useRef(null);\n  const paginationElRef = useRef(null);\n  const scrollbarElRef = useRef(null);\n  const {\n    params: swiperParams,\n    passedParams,\n    rest: restProps,\n    events\n  } = getParams(rest);\n  const {\n    slides,\n    slots\n  } = getChildren(children);\n\n  const onBeforeBreakpoint = () => {\n    setBreakpointChanged(!breakpointChanged);\n  };\n\n  Object.assign(swiperParams.on, {\n    _containerClasses(swiper, classes) {\n      setContainerClasses(classes);\n    }\n\n  });\n\n  const initSwiper = () => {\n    // init swiper\n    Object.assign(swiperParams.on, events);\n    eventsAssigned = true;\n    swiperRef.current = new SwiperCore(swiperParams);\n\n    swiperRef.current.loopCreate = () => {};\n\n    swiperRef.current.loopDestroy = () => {};\n\n    if (swiperParams.loop) {\n      swiperRef.current.loopedSlides = calcLoopedSlides(slides, swiperParams);\n    }\n\n    if (swiperRef.current.virtual && swiperRef.current.params.virtual.enabled) {\n      swiperRef.current.virtual.slides = slides;\n      const extendWith = {\n        cache: false,\n        slides,\n        renderExternal: setVirtualData,\n        renderExternalUpdate: false\n      };\n      extend(swiperRef.current.params.virtual, extendWith);\n      extend(swiperRef.current.originalParams.virtual, extendWith);\n    }\n  };\n\n  if (!swiperElRef.current) {\n    initSwiper();\n  } // Listen for breakpoints change\n\n\n  if (swiperRef.current) {\n    swiperRef.current.on('_beforeBreakpoint', onBeforeBreakpoint);\n  }\n\n  const attachEvents = () => {\n    if (eventsAssigned || !events || !swiperRef.current) return;\n    Object.keys(events).forEach(eventName => {\n      swiperRef.current.on(eventName, events[eventName]);\n    });\n  };\n\n  const detachEvents = () => {\n    if (!events || !swiperRef.current) return;\n    Object.keys(events).forEach(eventName => {\n      swiperRef.current.off(eventName, events[eventName]);\n    });\n  };\n\n  useEffect(() => {\n    return () => {\n      if (swiperRef.current) swiperRef.current.off('_beforeBreakpoint', onBeforeBreakpoint);\n    };\n  }); // set initialized flag\n\n  useEffect(() => {\n    if (!initializedRef.current && swiperRef.current) {\n      swiperRef.current.emitSlidesClasses();\n      initializedRef.current = true;\n    }\n  }); // mount swiper\n\n  useIsomorphicLayoutEffect(() => {\n    if (externalElRef) {\n      externalElRef.current = swiperElRef.current;\n    }\n\n    if (!swiperElRef.current) return;\n\n    if (swiperRef.current.destroyed) {\n      initSwiper();\n    }\n\n    mountSwiper({\n      el: swiperElRef.current,\n      nextEl: nextElRef.current,\n      prevEl: prevElRef.current,\n      paginationEl: paginationElRef.current,\n      scrollbarEl: scrollbarElRef.current,\n      swiper: swiperRef.current\n    }, swiperParams);\n    if (onSwiper) onSwiper(swiperRef.current); // eslint-disable-next-line\n\n    return () => {\n      if (swiperRef.current && !swiperRef.current.destroyed) {\n        swiperRef.current.destroy(true, false);\n      }\n    };\n  }, []); // watch for params change\n\n  useIsomorphicLayoutEffect(() => {\n    attachEvents();\n    const changedParams = getChangedParams(passedParams, oldPassedParamsRef.current, slides, oldSlides.current);\n    oldPassedParamsRef.current = passedParams;\n    oldSlides.current = slides;\n\n    if (changedParams.length && swiperRef.current && !swiperRef.current.destroyed) {\n      updateSwiper({\n        swiper: swiperRef.current,\n        slides,\n        passedParams,\n        changedParams,\n        nextEl: nextElRef.current,\n        prevEl: prevElRef.current,\n        scrollbarEl: scrollbarElRef.current,\n        paginationEl: paginationElRef.current\n      });\n    }\n\n    return () => {\n      detachEvents();\n    };\n  }); // update on virtual update\n\n  useIsomorphicLayoutEffect(() => {\n    updateOnVirtualData(swiperRef.current);\n  }, [virtualData]); // bypass swiper instance to slides\n\n  function renderSlides() {\n    if (swiperParams.virtual) {\n      return renderVirtual(swiperRef.current, slides, virtualData);\n    }\n\n    if (!swiperParams.loop || swiperRef.current && swiperRef.current.destroyed) {\n      return slides.map(child => {\n        return /*#__PURE__*/React.cloneElement(child, {\n          swiper: swiperRef.current\n        });\n      });\n    }\n\n    return renderLoop(swiperRef.current, slides, swiperParams);\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    ref: swiperElRef,\n    className: uniqueClasses(`${containerClasses}${className ? ` ${className}` : ''}`)\n  }, restProps), /*#__PURE__*/React.createElement(SwiperContext.Provider, {\n    value: swiperRef.current\n  }, slots['container-start'], needsNavigation(swiperParams) && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: prevElRef,\n    className: \"swiper-button-prev\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: nextElRef,\n    className: \"swiper-button-next\"\n  })), needsScrollbar(swiperParams) && /*#__PURE__*/React.createElement(\"div\", {\n    ref: scrollbarElRef,\n    className: \"swiper-scrollbar\"\n  }), needsPagination(swiperParams) && /*#__PURE__*/React.createElement(\"div\", {\n    ref: paginationElRef,\n    className: \"swiper-pagination\"\n  }), /*#__PURE__*/React.createElement(WrapperTag, {\n    className: \"swiper-wrapper\"\n  }, slots['wrapper-start'], renderSlides(), slots['wrapper-end']), slots['container-end']));\n});\nSwiper.displayName = 'Swiper';\nexport { Swiper };"]},"metadata":{},"sourceType":"module"}