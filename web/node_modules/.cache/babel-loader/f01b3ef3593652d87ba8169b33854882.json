{"ast":null,"code":"/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Keyboard(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const document = getDocument();\n  const window = getWindow();\n  swiper.keyboard = {\n    enabled: false\n  };\n  extendParams({\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  });\n\n  function handle(event) {\n    if (!swiper.enabled) return;\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    const kc = e.keyCode || e.charCode;\n    const pageUpDown = swiper.params.keyboard.pageUpDown;\n    const isPageUp = pageUpDown && kc === 33;\n    const isPageDown = pageUpDown && kc === 34;\n    const isArrowLeft = kc === 37;\n    const isArrowRight = kc === 39;\n    const isArrowUp = kc === 38;\n    const isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      let inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n\n      const $el = swiper.$el;\n      const swiperWidth = $el[0].clientWidth;\n      const swiperHeight = $el[0].clientHeight;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    emit('keyPress', kc);\n    return undefined;\n  }\n\n  function enable() {\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', handle);\n    swiper.keyboard.enabled = true;\n  }\n\n  function disable() {\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', handle);\n    swiper.keyboard.enabled = false;\n  }\n\n  on('init', () => {\n    if (swiper.params.keyboard.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.keyboard.enabled) {\n      disable();\n    }\n  });\n  Object.assign(swiper.keyboard, {\n    enable,\n    disable\n  });\n}","map":{"version":3,"sources":["/Users/hxt365/GolandProjects/cloud-gaming/web/node_modules/swiper/modules/keyboard/keyboard.js"],"names":["getWindow","getDocument","$","Keyboard","_ref","swiper","extendParams","on","emit","document","window","keyboard","enabled","onlyInViewport","pageUpDown","handle","event","rtlTranslate","rtl","e","originalEvent","kc","keyCode","charCode","params","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","allowSlideNext","isHorizontal","isVertical","allowSlidePrev","shiftKey","altKey","ctrlKey","metaKey","undefined","activeElement","nodeName","toLowerCase","inView","$el","parents","slideClass","length","slideActiveClass","swiperWidth","clientWidth","swiperHeight","clientHeight","windowWidth","innerWidth","windowHeight","innerHeight","swiperOffset","offset","left","scrollLeft","swiperCoord","top","i","point","preventDefault","returnValue","slideNext","slidePrev","enable","disable","off","Object","assign"],"mappings":"AAAA;AACA,SAASA,SAAT,EAAoBC,WAApB,QAAuC,YAAvC;AACA,OAAOC,CAAP,MAAc,qBAAd;AACA,eAAe,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACrC,MAAI;AACFC,IAAAA,MADE;AAEFC,IAAAA,YAFE;AAGFC,IAAAA,EAHE;AAIFC,IAAAA;AAJE,MAKAJ,IALJ;AAMA,QAAMK,QAAQ,GAAGR,WAAW,EAA5B;AACA,QAAMS,MAAM,GAAGV,SAAS,EAAxB;AACAK,EAAAA,MAAM,CAACM,QAAP,GAAkB;AAChBC,IAAAA,OAAO,EAAE;AADO,GAAlB;AAGAN,EAAAA,YAAY,CAAC;AACXK,IAAAA,QAAQ,EAAE;AACRC,MAAAA,OAAO,EAAE,KADD;AAERC,MAAAA,cAAc,EAAE,IAFR;AAGRC,MAAAA,UAAU,EAAE;AAHJ;AADC,GAAD,CAAZ;;AAQA,WAASC,MAAT,CAAgBC,KAAhB,EAAuB;AACrB,QAAI,CAACX,MAAM,CAACO,OAAZ,EAAqB;AACrB,UAAM;AACJK,MAAAA,YAAY,EAAEC;AADV,QAEFb,MAFJ;AAGA,QAAIc,CAAC,GAAGH,KAAR;AACA,QAAIG,CAAC,CAACC,aAAN,EAAqBD,CAAC,GAAGA,CAAC,CAACC,aAAN,CANA,CAMqB;;AAE1C,UAAMC,EAAE,GAAGF,CAAC,CAACG,OAAF,IAAaH,CAAC,CAACI,QAA1B;AACA,UAAMT,UAAU,GAAGT,MAAM,CAACmB,MAAP,CAAcb,QAAd,CAAuBG,UAA1C;AACA,UAAMW,QAAQ,GAAGX,UAAU,IAAIO,EAAE,KAAK,EAAtC;AACA,UAAMK,UAAU,GAAGZ,UAAU,IAAIO,EAAE,KAAK,EAAxC;AACA,UAAMM,WAAW,GAAGN,EAAE,KAAK,EAA3B;AACA,UAAMO,YAAY,GAAGP,EAAE,KAAK,EAA5B;AACA,UAAMQ,SAAS,GAAGR,EAAE,KAAK,EAAzB;AACA,UAAMS,WAAW,GAAGT,EAAE,KAAK,EAA3B,CAfqB,CAeU;;AAE/B,QAAI,CAAChB,MAAM,CAAC0B,cAAR,KAA2B1B,MAAM,CAAC2B,YAAP,MAAyBJ,YAAzB,IAAyCvB,MAAM,CAAC4B,UAAP,MAAuBH,WAAhE,IAA+EJ,UAA1G,CAAJ,EAA2H;AACzH,aAAO,KAAP;AACD;;AAED,QAAI,CAACrB,MAAM,CAAC6B,cAAR,KAA2B7B,MAAM,CAAC2B,YAAP,MAAyBL,WAAzB,IAAwCtB,MAAM,CAAC4B,UAAP,MAAuBJ,SAA/D,IAA4EJ,QAAvG,CAAJ,EAAsH;AACpH,aAAO,KAAP;AACD;;AAED,QAAIN,CAAC,CAACgB,QAAF,IAAchB,CAAC,CAACiB,MAAhB,IAA0BjB,CAAC,CAACkB,OAA5B,IAAuClB,CAAC,CAACmB,OAA7C,EAAsD;AACpD,aAAOC,SAAP;AACD;;AAED,QAAI9B,QAAQ,CAAC+B,aAAT,IAA0B/B,QAAQ,CAAC+B,aAAT,CAAuBC,QAAjD,KAA8DhC,QAAQ,CAAC+B,aAAT,CAAuBC,QAAvB,CAAgCC,WAAhC,OAAkD,OAAlD,IAA6DjC,QAAQ,CAAC+B,aAAT,CAAuBC,QAAvB,CAAgCC,WAAhC,OAAkD,UAA7K,CAAJ,EAA8L;AAC5L,aAAOH,SAAP;AACD;;AAED,QAAIlC,MAAM,CAACmB,MAAP,CAAcb,QAAd,CAAuBE,cAAvB,KAA0CY,QAAQ,IAAIC,UAAZ,IAA0BC,WAA1B,IAAyCC,YAAzC,IAAyDC,SAAzD,IAAsEC,WAAhH,CAAJ,EAAkI;AAChI,UAAIa,MAAM,GAAG,KAAb,CADgI,CAC5G;;AAEpB,UAAItC,MAAM,CAACuC,GAAP,CAAWC,OAAX,CAAoB,IAAGxC,MAAM,CAACmB,MAAP,CAAcsB,UAAW,EAAhD,EAAmDC,MAAnD,GAA4D,CAA5D,IAAiE1C,MAAM,CAACuC,GAAP,CAAWC,OAAX,CAAoB,IAAGxC,MAAM,CAACmB,MAAP,CAAcwB,gBAAiB,EAAtD,EAAyDD,MAAzD,KAAoE,CAAzI,EAA4I;AAC1I,eAAOR,SAAP;AACD;;AAED,YAAMK,GAAG,GAAGvC,MAAM,CAACuC,GAAnB;AACA,YAAMK,WAAW,GAAGL,GAAG,CAAC,CAAD,CAAH,CAAOM,WAA3B;AACA,YAAMC,YAAY,GAAGP,GAAG,CAAC,CAAD,CAAH,CAAOQ,YAA5B;AACA,YAAMC,WAAW,GAAG3C,MAAM,CAAC4C,UAA3B;AACA,YAAMC,YAAY,GAAG7C,MAAM,CAAC8C,WAA5B;AACA,YAAMC,YAAY,GAAGpD,MAAM,CAACuC,GAAP,CAAWc,MAAX,EAArB;AACA,UAAIxC,GAAJ,EAASuC,YAAY,CAACE,IAAb,IAAqBtD,MAAM,CAACuC,GAAP,CAAW,CAAX,EAAcgB,UAAnC;AACT,YAAMC,WAAW,GAAG,CAAC,CAACJ,YAAY,CAACE,IAAd,EAAoBF,YAAY,CAACK,GAAjC,CAAD,EAAwC,CAACL,YAAY,CAACE,IAAb,GAAoBV,WAArB,EAAkCQ,YAAY,CAACK,GAA/C,CAAxC,EAA6F,CAACL,YAAY,CAACE,IAAd,EAAoBF,YAAY,CAACK,GAAb,GAAmBX,YAAvC,CAA7F,EAAmJ,CAACM,YAAY,CAACE,IAAb,GAAoBV,WAArB,EAAkCQ,YAAY,CAACK,GAAb,GAAmBX,YAArD,CAAnJ,CAApB;;AAEA,WAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,WAAW,CAACd,MAAhC,EAAwCgB,CAAC,IAAI,CAA7C,EAAgD;AAC9C,cAAMC,KAAK,GAAGH,WAAW,CAACE,CAAD,CAAzB;;AAEA,YAAIC,KAAK,CAAC,CAAD,CAAL,IAAY,CAAZ,IAAiBA,KAAK,CAAC,CAAD,CAAL,IAAYX,WAA7B,IAA4CW,KAAK,CAAC,CAAD,CAAL,IAAY,CAAxD,IAA6DA,KAAK,CAAC,CAAD,CAAL,IAAYT,YAA7E,EAA2F;AACzF,cAAIS,KAAK,CAAC,CAAD,CAAL,KAAa,CAAb,IAAkBA,KAAK,CAAC,CAAD,CAAL,KAAa,CAAnC,EAAsC,SADmD,CACzC;;AAEhDrB,UAAAA,MAAM,GAAG,IAAT;AACD;AACF;;AAED,UAAI,CAACA,MAAL,EAAa,OAAOJ,SAAP;AACd;;AAED,QAAIlC,MAAM,CAAC2B,YAAP,EAAJ,EAA2B;AACzB,UAAIP,QAAQ,IAAIC,UAAZ,IAA0BC,WAA1B,IAAyCC,YAA7C,EAA2D;AACzD,YAAIT,CAAC,CAAC8C,cAAN,EAAsB9C,CAAC,CAAC8C,cAAF,GAAtB,KAA8C9C,CAAC,CAAC+C,WAAF,GAAgB,KAAhB;AAC/C;;AAED,UAAI,CAACxC,UAAU,IAAIE,YAAf,KAAgC,CAACV,GAAjC,IAAwC,CAACO,QAAQ,IAAIE,WAAb,KAA6BT,GAAzE,EAA8Eb,MAAM,CAAC8D,SAAP;AAC9E,UAAI,CAAC1C,QAAQ,IAAIE,WAAb,KAA6B,CAACT,GAA9B,IAAqC,CAACQ,UAAU,IAAIE,YAAf,KAAgCV,GAAzE,EAA8Eb,MAAM,CAAC+D,SAAP;AAC/E,KAPD,MAOO;AACL,UAAI3C,QAAQ,IAAIC,UAAZ,IAA0BG,SAA1B,IAAuCC,WAA3C,EAAwD;AACtD,YAAIX,CAAC,CAAC8C,cAAN,EAAsB9C,CAAC,CAAC8C,cAAF,GAAtB,KAA8C9C,CAAC,CAAC+C,WAAF,GAAgB,KAAhB;AAC/C;;AAED,UAAIxC,UAAU,IAAII,WAAlB,EAA+BzB,MAAM,CAAC8D,SAAP;AAC/B,UAAI1C,QAAQ,IAAII,SAAhB,EAA2BxB,MAAM,CAAC+D,SAAP;AAC5B;;AAED5D,IAAAA,IAAI,CAAC,UAAD,EAAaa,EAAb,CAAJ;AACA,WAAOkB,SAAP;AACD;;AAED,WAAS8B,MAAT,GAAkB;AAChB,QAAIhE,MAAM,CAACM,QAAP,CAAgBC,OAApB,EAA6B;AAC7BV,IAAAA,CAAC,CAACO,QAAD,CAAD,CAAYF,EAAZ,CAAe,SAAf,EAA0BQ,MAA1B;AACAV,IAAAA,MAAM,CAACM,QAAP,CAAgBC,OAAhB,GAA0B,IAA1B;AACD;;AAED,WAAS0D,OAAT,GAAmB;AACjB,QAAI,CAACjE,MAAM,CAACM,QAAP,CAAgBC,OAArB,EAA8B;AAC9BV,IAAAA,CAAC,CAACO,QAAD,CAAD,CAAY8D,GAAZ,CAAgB,SAAhB,EAA2BxD,MAA3B;AACAV,IAAAA,MAAM,CAACM,QAAP,CAAgBC,OAAhB,GAA0B,KAA1B;AACD;;AAEDL,EAAAA,EAAE,CAAC,MAAD,EAAS,MAAM;AACf,QAAIF,MAAM,CAACmB,MAAP,CAAcb,QAAd,CAAuBC,OAA3B,EAAoC;AAClCyD,MAAAA,MAAM;AACP;AACF,GAJC,CAAF;AAKA9D,EAAAA,EAAE,CAAC,SAAD,EAAY,MAAM;AAClB,QAAIF,MAAM,CAACM,QAAP,CAAgBC,OAApB,EAA6B;AAC3B0D,MAAAA,OAAO;AACR;AACF,GAJC,CAAF;AAKAE,EAAAA,MAAM,CAACC,MAAP,CAAcpE,MAAM,CAACM,QAArB,EAA+B;AAC7B0D,IAAAA,MAD6B;AAE7BC,IAAAA;AAF6B,GAA/B;AAID","sourcesContent":["/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Keyboard(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const document = getDocument();\n  const window = getWindow();\n  swiper.keyboard = {\n    enabled: false\n  };\n  extendParams({\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  });\n\n  function handle(event) {\n    if (!swiper.enabled) return;\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    const kc = e.keyCode || e.charCode;\n    const pageUpDown = swiper.params.keyboard.pageUpDown;\n    const isPageUp = pageUpDown && kc === 33;\n    const isPageDown = pageUpDown && kc === 34;\n    const isArrowLeft = kc === 37;\n    const isArrowRight = kc === 39;\n    const isArrowUp = kc === 38;\n    const isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      let inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n\n      const $el = swiper.$el;\n      const swiperWidth = $el[0].clientWidth;\n      const swiperHeight = $el[0].clientHeight;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    emit('keyPress', kc);\n    return undefined;\n  }\n\n  function enable() {\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', handle);\n    swiper.keyboard.enabled = true;\n  }\n\n  function disable() {\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', handle);\n    swiper.keyboard.enabled = false;\n  }\n\n  on('init', () => {\n    if (swiper.params.keyboard.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.keyboard.enabled) {\n      disable();\n    }\n  });\n  Object.assign(swiper.keyboard, {\n    enable,\n    disable\n  });\n}"]},"metadata":{},"sourceType":"module"}