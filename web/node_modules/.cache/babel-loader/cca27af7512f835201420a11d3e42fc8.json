{"ast":null,"code":"import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","map":{"version":3,"sources":["/Users/hxt365/GolandProjects/cloud-gaming/web/node_modules/swiper/core/images/loadImage.js"],"names":["getWindow","$","loadImage","imageEl","src","srcset","sizes","checkForComplete","callback","window","image","onReady","isPicture","parent","complete","Image","onload","onerror"],"mappings":"AAAA,SAASA,SAAT,QAA0B,YAA1B;AACA,OAAOC,CAAP,MAAc,qBAAd;AACA,eAAe,SAASC,SAAT,CAAmBC,OAAnB,EAA4BC,GAA5B,EAAiCC,MAAjC,EAAyCC,KAAzC,EAAgDC,gBAAhD,EAAkEC,QAAlE,EAA4E;AACzF,QAAMC,MAAM,GAAGT,SAAS,EAAxB;AACA,MAAIU,KAAJ;;AAEA,WAASC,OAAT,GAAmB;AACjB,QAAIH,QAAJ,EAAcA,QAAQ;AACvB;;AAED,QAAMI,SAAS,GAAGX,CAAC,CAACE,OAAD,CAAD,CAAWU,MAAX,CAAkB,SAAlB,EAA6B,CAA7B,CAAlB;;AAEA,MAAI,CAACD,SAAD,KAAe,CAACT,OAAO,CAACW,QAAT,IAAqB,CAACP,gBAArC,CAAJ,EAA4D;AAC1D,QAAIH,GAAJ,EAAS;AACPM,MAAAA,KAAK,GAAG,IAAID,MAAM,CAACM,KAAX,EAAR;AACAL,MAAAA,KAAK,CAACM,MAAN,GAAeL,OAAf;AACAD,MAAAA,KAAK,CAACO,OAAN,GAAgBN,OAAhB;;AAEA,UAAIL,KAAJ,EAAW;AACTI,QAAAA,KAAK,CAACJ,KAAN,GAAcA,KAAd;AACD;;AAED,UAAID,MAAJ,EAAY;AACVK,QAAAA,KAAK,CAACL,MAAN,GAAeA,MAAf;AACD;;AAED,UAAID,GAAJ,EAAS;AACPM,QAAAA,KAAK,CAACN,GAAN,GAAYA,GAAZ;AACD;AACF,KAhBD,MAgBO;AACLO,MAAAA,OAAO;AACR;AACF,GApBD,MAoBO;AACL;AACAA,IAAAA,OAAO;AACR;AACF","sourcesContent":["import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}"]},"metadata":{},"sourceType":"module"}