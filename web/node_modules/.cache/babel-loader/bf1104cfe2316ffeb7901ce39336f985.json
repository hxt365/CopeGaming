{"ast":null,"code":"export default function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}","map":{"version":3,"sources":["/Users/hxt365/GolandProjects/cloud-gaming/web/node_modules/swiper/shared/effect-init.js"],"names":["effectInit","params","effect","swiper","on","setTranslate","setTransition","overwriteParams","perspective","classNames","push","containerModifierClass","overwriteParamsResult","Object","assign","originalParams","_s","duration","requireUpdateOnVirtual","slides","length","requestAnimationFrame"],"mappings":"AAAA,eAAe,SAASA,UAAT,CAAoBC,MAApB,EAA4B;AACzC,QAAM;AACJC,IAAAA,MADI;AAEJC,IAAAA,MAFI;AAGJC,IAAAA,EAHI;AAIJC,IAAAA,YAJI;AAKJC,IAAAA,aALI;AAMJC,IAAAA,eANI;AAOJC,IAAAA;AAPI,MAQFP,MARJ;AASAG,EAAAA,EAAE,CAAC,YAAD,EAAe,MAAM;AACrB,QAAID,MAAM,CAACF,MAAP,CAAcC,MAAd,KAAyBA,MAA7B,EAAqC;AACrCC,IAAAA,MAAM,CAACM,UAAP,CAAkBC,IAAlB,CAAwB,GAAEP,MAAM,CAACF,MAAP,CAAcU,sBAAuB,GAAET,MAAO,EAAxE;;AAEA,QAAIM,WAAW,IAAIA,WAAW,EAA9B,EAAkC;AAChCL,MAAAA,MAAM,CAACM,UAAP,CAAkBC,IAAlB,CAAwB,GAAEP,MAAM,CAACF,MAAP,CAAcU,sBAAuB,IAA/D;AACD;;AAED,UAAMC,qBAAqB,GAAGL,eAAe,GAAGA,eAAe,EAAlB,GAAuB,EAApE;AACAM,IAAAA,MAAM,CAACC,MAAP,CAAcX,MAAM,CAACF,MAArB,EAA6BW,qBAA7B;AACAC,IAAAA,MAAM,CAACC,MAAP,CAAcX,MAAM,CAACY,cAArB,EAAqCH,qBAArC;AACD,GAXC,CAAF;AAYAR,EAAAA,EAAE,CAAC,cAAD,EAAiB,MAAM;AACvB,QAAID,MAAM,CAACF,MAAP,CAAcC,MAAd,KAAyBA,MAA7B,EAAqC;AACrCG,IAAAA,YAAY;AACb,GAHC,CAAF;AAIAD,EAAAA,EAAE,CAAC,eAAD,EAAkB,CAACY,EAAD,EAAKC,QAAL,KAAkB;AACpC,QAAId,MAAM,CAACF,MAAP,CAAcC,MAAd,KAAyBA,MAA7B,EAAqC;AACrCI,IAAAA,aAAa,CAACW,QAAD,CAAb;AACD,GAHC,CAAF;AAIA,MAAIC,sBAAJ;AACAd,EAAAA,EAAE,CAAC,eAAD,EAAkB,MAAM;AACxB,QAAI,CAACD,MAAM,CAACgB,MAAP,CAAcC,MAAnB,EAA2B;AACzBF,MAAAA,sBAAsB,GAAG,IAAzB;AACD;;AAEDG,IAAAA,qBAAqB,CAAC,MAAM;AAC1B,UAAIH,sBAAsB,IAAIf,MAAM,CAACgB,MAAP,CAAcC,MAA5C,EAAoD;AAClDf,QAAAA,YAAY;AACZa,QAAAA,sBAAsB,GAAG,KAAzB;AACD;AACF,KALoB,CAArB;AAMD,GAXC,CAAF;AAYD","sourcesContent":["export default function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}"]},"metadata":{},"sourceType":"module"}